(function(t){function e(e){for(var n,i,r=e[0],l=e[1],c=e[2],d=0,g=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&g.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(g.length)g.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/production-sub-path/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-container",{attrs:{fluid:""}},[a("SplashScreen"),t.error?t._e():a("FileList"),t.error?a("b-alert",{attrs:{show:"",variant:"danger"}},[a("h4",{staticClass:"alert-heading"},[t._v("Critical error")]),a("p",[t._v("ERROR TEXT TODO")])]):t._e()],1)],1)},s=[],i=a("5f5b"),r=a("b1e0"),l=(a("c9cb"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-overlay",{attrs:{show:t.show,rounded:"sm"}},[a("b-jumbotron",{staticClass:"text-center",attrs:{header:"locallang-xlf",lead:"v1.0.5","aria-hidden":t.show?"true":null}},[a("p",[t._v("Translate typo3-extension locallang files")]),a("b-button",{attrs:{variant:"primary",href:"#"},on:{click:function(e){t.show=!t.show}}},[a("b-icon",{attrs:{icon:"gear-fill","aria-hidden":"true"}}),t._v(" Scan Extensions ")],1)],1)],1)],1)}),c=[],u={name:"SplashScreen",props:{msg:String},data:function(){return{show:!1}},methods:{scan:function(){this.show=!this.show}}},d=u,g=a("2877"),p=Object(g["a"])(d,l,c,!1,null,null,null),b=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex align-items-center mb-3"},[a("b-progress",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"w-100",attrs:{max:t.maxLoadingTime,height:"1.5rem"}},[a("b-progress-bar",{attrs:{value:t.loadingTime,label:(t.loadingTime/t.maxLoadingTime*100).toFixed(2)+"%"}})],1)],1),a("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[a("b-card",[a("b-skeleton",{attrs:{width:"85%"}}),a("b-skeleton",{attrs:{width:"55%"}}),a("b-skeleton",{attrs:{width:"70%"}}),a("hr"),a("b-skeleton",{attrs:{width:"85%"}}),a("b-skeleton",{attrs:{width:"55%"}}),a("b-skeleton",{attrs:{width:"70%"}}),a("hr"),a("b-skeleton",{attrs:{width:"85%"}}),a("b-skeleton",{attrs:{width:"55%"}}),a("b-skeleton",{attrs:{width:"70%"}}),a("hr"),a("b-skeleton",{attrs:{width:"85%"}}),a("b-skeleton",{attrs:{width:"55%"}}),a("b-skeleton",{attrs:{width:"70%"}})],1)]},proxy:!0}])},[a("b-card",{staticClass:"mb-5"},[a("b-card-header",[a("h2",[t._v("Choose your extension")])]),a("div",{staticClass:"accordion",attrs:{role:"tablist"}},t._l(t.extensions,(function(t){return a("b-card",{key:t.uid,staticClass:"mb-1",attrs:{"no-body":""}},[a("Extension",{attrs:{extension:t}})],1)})),1)],1)],1)],1)},m=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"accordion-1"}}),a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"text-left",attrs:{block:"",variant:"primary"}},[a("b-icon",{attrs:{icon:"arrow-down-circle-fill",variant:"light",rotate:t.iconRotate}}),t._v(" "+t._s(t.extension.name)+" ")],1)],1),a("b-collapse",{attrs:{id:"accordion-1",role:"tabpanel"},model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[a("Locallangs",{attrs:{locallangs:t.getLocallangs,extension:t.extension}})],1)],1)},h=[],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.locallangs,(function(e){return a("b-card-group",{key:e.uid,staticClass:"pb-3",attrs:{deck:""}},[a("Locallang",{attrs:{locallang:e,extension:t.extension}}),a("hr")],1)})),1)},x=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"header-tag":"header","footer-tag":"footer"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",[a("b-icon",{attrs:{icon:"info-circle-fill",variant:"dark"}}),t._v(" "),a("span",{staticClass:"text-muted"},[t._v("File:")]),a("u",[t._v(t._s(t.locallang.filename))])],1),a("b-button-group",{staticClass:"float-right"},[a("span",{staticClass:"border border-primary text-primary p-1 pr-3 rounded-left"},[t._v("Actions: ")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Overwrite File",variant:"primary",size:"sm"}},[a("b-icon",{attrs:{icon:"cloud-upload","aria-hidden":"true"}})],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Reimport from filesystem",variant:"primary",size:"sm"}},[a("b-icon",{attrs:{icon:"cloud-download","aria-hidden":"true"}})],1)],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("b-button",{attrs:{variant:"secondary",size:"sm"}},[a("b-icon",{attrs:{icon:"arrow-repeat","aria-hidden":"true"}}),t._v(" Reimport from filesystem ")],1)],1),a("div",{staticClass:"col-4"}),a("div",{staticClass:"col-4"})])]},proxy:!0}])},[a("Translations",{attrs:{translations:t.locallang.translations,extension:t.extension}})],1)},T=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.translations,(function(e){return a("div",{key:e.uid},[a("Translation",{attrs:{translation:e,extension:t.extension}})],1)})),0)},C=[],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"border border-primary border-bottom-0 rounded mb-2 "},[a("code",{staticClass:"badge badge-primary d-block text-left p-2 d-flex justify-content-between"},[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Translation key"}},[a("b-icon",{staticClass:"bg-white",attrs:{icon:"caret-right",variant:"dark"}}),t._v(" "+t._s(t.translation.ident)+" ")],1),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"badge badge-light badge-pill",attrs:{title:"Amount of translations"}},[t._v(t._s(t.translation.values.length))])]),t._l(t.translation.values,(function(e,n){return a("div",{key:n},[a("TranslationValue",{attrs:{translationValue:e,defaultValue:t.getDefaultValue}})],1)})),a("TranslationAdd",{attrs:{translation:t.translation,extension:t.extension}})],2)},A=[],S=(a("d3b7"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-list-group",[a("b-list-group-item",{staticClass:"list-group-hover position-relative"},[a("b-row",[a("b-col",[a("b-row",[a("b-col",[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"hover-scale-svg",attrs:{title:"Language Code"}},[a("img",{staticClass:"flag-svg rounded-circle",attrs:{src:t.languageCodeInlineStyle}}),t._v(" "),a("span",{staticClass:"text-uppercase p-2 font-weight-bold "},[t._v(t._s(t.translationValue.ident))]),t.changed?a("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"p-2 ml-2",attrs:{pill:"",variant:"warning",title:"Changes will be saved"}},[a("b-icon",{attrs:{icon:"asterisk"}})],1):t._e()],1)])],1),a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("b-progress",{directives:[{name:"show",rawName:"v-show",value:t.savingTime,expression:"savingTime"}],staticClass:"m-2",attrs:{height:"2rem",max:t.savingInSec,variant:"primary"}},[a("b-progress-bar",{attrs:{value:t.remainingSaveTime}},[a("span",{staticClass:"p-2"},[t._v("Saving in "),a("strong",[t._v(t._s(t.remainingSaveTime)+" seconds")])])])],1)],1)],1)],1),t.isDefault?t._e():a("b-col",[a("small",{staticClass:"font-weight-light"},[t._v("Source")]),a("b-input-group",{staticClass:"mb-2",attrs:{size:"sm"}},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"clipboard"}})],1),a("b-form-textarea",{attrs:{disabled:"",id:"textarea-default",value:t.defaultValue.value,placeholder:"Enter something...",rows:"3","max-rows":"10"}})],1)],1),t.isDefault?t._e():a("b-col",{attrs:{cols:"1","align-self":"center"}},[t.isAutoTranslating?t._e():a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"primary",title:"Autotranslate from google"},on:{click:t.translateGoogle}},[a("b-icon",{attrs:{icon:"google"}}),a("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-double-right",animation:"cylon"}})],1),t.isAutoTranslating?a("b-spinner",{attrs:{variant:"primary",label:"Getting data..."}}):t._e()],1),a("b-col",{attrs:{cols:"4"}},[a("small",{staticClass:"font-weight-light"},[t._v("Translation")]),a("b-input-group",{staticClass:"mb-2",attrs:{size:"sm"}},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"clipboard-data"}})],1),a("b-form-textarea",{class:{"border-warning":!0===t.changed},attrs:{id:"textarea",value:t.ownValue,placeholder:"Enter something...",rows:"3","max-rows":"10",disabled:t.isAutoTranslating},on:{update:t.onChange}})],1)],1)],1),a("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"m-2 position-absolute",staticStyle:{top:"-.5rem",right:"-.5rem"},attrs:{variant:"link",size:"sm",title:"Further options","no-caret":"",dropleft:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"three-dots-vertical"}})]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Delete")])],1)],1)],1)],1)}),E=[],I={name:"TranslationValue",props:["translationValue","defaultValue"],data:function(){return{changed:!1,isAutoTranslating:!1,savingInSec:10,savingTime:0,isDefault:"default"===this.translationValue.ident,languageCodeInlineStyle:"/assets/svg/"+this.translationValue.ident.toUpperCase()+".svg"}},computed:{remainingSaveTime:function(){return this.savingInSec-this.savingTime},ownValue:function(){return this.translationValue.value}},watch:{changed:function(t,e){var a=this;t!==e&&(this.clearLoadingTimeInterval(),this.savingTime=0,t&&(this.$_loadingTimeInterval=setInterval((function(){a.savingTime++}),1e3)))},savingTime:function(t,e){t!==e&&t===this.savingInSec&&(this.changed=!1)}},methods:{onChange:function(t){this.translationValue.value=t,this.startSaving()},startSaving:function(){this.changed=!0,this.savingTime=0},clearLoadingTimeInterval:function(){clearInterval(this.$_loadingTimeInterval),this.$_loadingTimeInterval=null},translateGoogle:function(){this.isAutoTranslating=!0}},created:function(){this.$_loadingTimeInterval=null}},L=I,O=(a("91c3"),Object(g["a"])(L,S,E,!1,null,null,null)),$=O.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-list-group-item",{staticClass:"list-group-hover"},[a("b-row",[a("b-col",{attrs:{cols:"2"}},[a("b-input-group",{scopedSlots:t._u([{key:"append",fn:function(){return[a("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(e){t.showAddModal=!t.showAddModal}}},[a("b-icon",{attrs:{icon:"caret-down-fill"}})],1),a("b-button",{attrs:{size:"sm",variant:"success",disabled:!t.languageToAdd},on:{click:t.addLanguage}},[a("b-icon",{attrs:{icon:"clipboard-plus"}}),t._v(" Add ")],1)]},proxy:!0}])},[a("b-form-input",{attrs:{type:"search",placeholder:"Add Language"},model:{value:t.languageToAdd,callback:function(e){t.languageToAdd=e},expression:"languageToAdd"}})],1),a("b-modal",{attrs:{size:"xl",lazy:""},model:{value:t.showAddModal,callback:function(e){t.showAddModal=e},expression:"showAddModal"}},[a("b-card-group",{attrs:{deck:""}},[a("b-card",{attrs:{header:"Languages","header-tag":"header",footer:"Card Footer","footer-tag":"footer",title:"Select a language-code"}},[a("b-card-text",[a("b-form-input",{attrs:{placeholder:"Filter"},model:{value:t.languageFilter,callback:function(e){t.languageFilter=e},expression:"languageFilter"}})],1),a("b-row",t._l(t.languages,(function(e,n){return a("b-col",{key:n,attrs:{cols:"1"}},[a("b-form-checkbox",{attrs:{button:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t._v(" "+t._s(e.code)+" ")])],1)})),1)],1)],1)],1)],1)],1)],1)],1)},R=[],V={name:"TranslationAdd",props:["translation","extension"],computed:{languages:function(){return this.$store.getters.getLanguages},modalId:function(){return Math.floor(99999*Math.random())},errorPath:function(){return"/assets/svg/NA.svg"}},data:function(){return{getBody:document.getElementById("app"),showAddModal:!1,selected:"radio1",languageFilter:"",languageToAdd:"",fields:["lang_code","last_name","age"]}},methods:{languageCode:function(t){return"/assets/svg/"+t.toUpperCase()+".svg"},addLanguage:function(){this.$store.dispatch("addTranslationValue",{extension:this.extension.uid,translation:this.translation.uid,lang:this.languageToAdd})}}},N=V,F=Object(g["a"])(N,j,R,!1,null,null,null),D=F.exports,P={name:"Translation",props:["translation","extension"],computed:{getDefaultValue:function(){for(var t=0;t<this.translation.values.length;t++)if("default"==this.translation.values[t].ident)return this.translation.values[t];return null}},components:{TranslationValue:$,TranslationAdd:D}},M=P,z=Object(g["a"])(M,k,A,!1,null,null,null),U=z.exports,B={name:"Translations",props:["translations","extension"],components:{Translation:U}},G=B,X=Object(g["a"])(G,y,C,!1,null,null,null),J=X.exports,H={name:"Locallang",props:["locallang","extension"],data:function(){return{locallangTableFields:["filename"]}},methods:{rowClass:function(t,e){if(t&&"row"===e)return t.isTranslatable?"table-success":void 0}},components:{Translations:J}},q=H,K=Object(g["a"])(q,_,T,!1,null,null,null),Q=K.exports,W={name:"Locallangs",props:["locallangs","extension"],components:{Locallang:Q}},Y=W,Z=Object(g["a"])(Y,w,x,!1,null,null,null),tt=Z.exports,et={name:"Extension",props:["extension"],data:function(){return{locallangTableFields:["filename"],collapsed:!1}},computed:{getLocallangs:function(){return this.extension.locallangs},iconRotate:function(){return this.collapsed?180:0}},methods:{rowClass:function(t,e){if(t&&"row"===e)return t.isTranslatable?"table-success":void 0}},components:{Locallangs:tt}},at=et,nt=Object(g["a"])(at,v,h,!1,null,null,null),ot=nt.exports,st={components:{Extension:ot},name:"FileList",computed:{extensions:function(){return this.$store.getters.extensions}},data:function(){return{loading:!1,loadingTime:0,maxLoadingTime:1,extensionTableFields:["name","filename","lastUpdate","showDetails"]}},watch:{loading:function(t,e){var a=this;t!==e&&(this.clearLoadingTimeInterval(),t&&(this.$_loadingTimeInterval=setInterval((function(){a.loadingTime++}),1e3)))},loadingTime:function(t,e){t!==e&&t===this.maxLoadingTime&&(this.loading=!1)}},created:function(){this.$store.dispatch("getExtensions"),this.$_loadingTimeInterval=null},mounted:function(){this.startLoading()},methods:{rowClass:function(t,e){if(t&&"row"===e)return t.isTranslatable?"table-success":void 0},clearLoadingTimeInterval:function(){clearInterval(this.$_loadingTimeInterval),this.$_loadingTimeInterval=null},startLoading:function(){this.loading=!0,this.loadingTime=0}}},it=st,rt=Object(g["a"])(it,f,m,!1,null,null,null),lt=rt.exports;n["default"].use(i["a"]),n["default"].use(r["a"]);var ct={name:"App",components:{SplashScreen:b,FileList:lt},data:function(){return{error:!1}},mounted:function(){var t=this;window.addEventListener("CRITICAL_ERROR",(function(){console.log("CRITICAL ERROR"),t.error=!0}))}},ut=ct,dt=Object(g["a"])(ut,o,s,!1,null,null,null),gt=dt.exports,pt=a("2f62"),bt=a("bc3a"),ft=a.n(bt),mt=function(t){var e=document.getElementById("meta");return null===e?null:e.getAttribute("data-"+t)},vt={extensions:[]},ht={UPDATE_EXTENSIONS:function(t,e){console.log(e),t.extensions=e},UPDATE_TRANSLATION_VALUE:function(t,e){t.extensions=e}},wt={getExtensions:function(t){var e=t.commit;ft.a.get(mt("api-extensions")).then((function(t){console.log(t),"success"===t.status&&e("UPDATE_EXTENSIONS",t.data.data)})).catch((function(){console.log("DISPATCH"),window.dispatchEvent(new Event("CRITICAL_ERROR"))}))},addTranslationValue:function(t,e){var a=this;ft.a.post("/api/translation/"+e.extension+"/"+e.translation).then((function(n){for(var o in console.log(n),a.state.extensions)o.uid===parseInt(e.extension)&&t.commit("UPDATE_TRANSLATION_VALUE",n.data)}))}},xt={extensions:function(t){return t.extensions}},_t={state:vt,mutations:ht,actions:wt,getters:xt},Tt=_t;n["default"].use(pt["a"]);var yt=new pt["a"].Store({modules:{extension:Tt}});n["default"].config.productionTip=!1,new n["default"]({store:yt,render:function(t){return t(gt)}}).$mount("#app")},"91c3":function(t,e,a){"use strict";a("b96e")},b96e:function(t,e,a){},c9cb:function(t,e,a){}});
//# sourceMappingURL=app.6d71c969.js.map